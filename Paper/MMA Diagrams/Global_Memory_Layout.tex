\documentclass[tikz]{standalone}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{xparse}
\usetikzlibrary{calc}

% XOR routine taken from SO...
\ExplSyntaxOn
\NewExpandableDocumentCommand{\bitwiseXor}{mm}
 {
  \recuenco_bitwise_xor:nn { #1 } { #2 }
 }

\cs_new:Nn \recuenco_bitwise_xor:nn
 {
  \int_from_bin:e
   {
    \__recuenco_bitwise_xor:ee { \int_to_bin:n { #1 } } { \int_to_bin:n { #2 } }
   }
 }
\cs_generate_variant:Nn \int_from_bin:n { e }

\cs_new:Nn \__recuenco_bitwise_xor:nn
 {
  \__recuenco_bitwise_xor_binary:ee
   {
    \prg_replicate:nn
     {
      \int_max:nn { \tl_count:n { #1 } } { \tl_count:n { #2 } } - \tl_count:n { #1 }
     }
     { 0 }
     #1
   }
   {
    \prg_replicate:nn
     {
      \int_max:nn { \tl_count:n { #1 } } { \tl_count:n { #2 } } - \tl_count:n { #2 }
     }
     { 0 }
     #2
   }
 }
\cs_generate_variant:Nn \__recuenco_bitwise_xor:nn { ee }

\cs_new:Nn \__recuenco_bitwise_xor_binary:nn
 {
  \__recuenco_bitwise_xor_binary:w #1;#2;
 }
\cs_generate_variant:Nn \__recuenco_bitwise_xor_binary:nn { ee }

\cs_new:Npn \__recuenco_bitwise_xor_binary:w #1#2;#3#4;
 {
  \int_abs:n { #1-#3 }
  \tl_if_empty:nF { #2 } { \__recuenco_bitwise_xor_binary:w #2;#4; }
 }

\ExplSyntaxOff

\begin{document}

\definecolor{colColor0}{RGB}{255, 102, 102} % Soft Red  
\definecolor{colColor1}{RGB}{255, 140, 115} % Coral  
\definecolor{colColor2}{RGB}{255, 178, 140} % Soft Orange  
\definecolor{colColor3}{RGB}{230, 153, 190} % Warm Pink  
\definecolor{colColor4}{RGB}{200, 130, 220} % Light Orchid  
\definecolor{colColor5}{RGB}{170, 110, 230} % Soft Violet  
\definecolor{colColor6}{RGB}{140, 90, 240}  % Muted Purple  
\definecolor{colColor7}{RGB}{120, 70, 250}  % Gentle Blue-Purple  
\definecolor{lastColColor}{RGB}{255, 255, 255}  % White

\newcommand{\getcolor}[1]{colColor#1}


\def\blockHeight{1}
\def\blockWidth{2}
\pgfmathsetmacro{\halfBlockHeight}{\blockHeight / 2}
\pgfmathsetmacro{\halfBlockWidth}{\blockWidth / 2}

\def\dimColors{colColor0, colColor1, colColor2, colColor3, colColor4, colColor5, colColor6, colColor7, lastColColor}
	
% Global Memory layout
\begin{tikzpicture}[scale=1]
	\foreach \color [count=\col from 0] in \dimColors {
		\foreach \row in {0,..., 7}{

			% Rectangle coordinates
			\pgfmathsetmacro{\yPos}{-\row * \blockHeight}
			\pgfmathsetmacro{\xPos}{\col * \blockWidth}
			\coordinate (UL) at (\xPos, \yPos);
			\coordinate (BR) at  (\xPos + \blockWidth, \yPos - \blockHeight);
			% Center of rectangle
			\coordinate (C) at ($ (UL)!.5!(BR) $);

			% Main rectangle
			\fill[color=\color, draw=black] (UL) rectangle (BR);

			% Label rows with Point number
			\ifnum\col=0
				\pgfmathsetmacro{\bankStart}{int(\row + 1)}
				\pgfmathsetmacro{\poffset}{-(\halfBlockWidth + 0.5)}
				\node[font=\large, xshift=\poffset cm] at (C) {P\bankStart};
			\fi


			% Add dimension labels
			\pgfmathsetmacro{\baseDim}{int((\col) * 8 + 1)}
			% Handle last col differently since it goes to d
			\ifnum\col=8
				\node[font=\large] at (C)  {\baseDim ...$d$};
			\else
				% Label with thread index
				\pgfmathsetmacro{\cellIndex}{int((\row) * 8 + \col)}
				\node[anchor=north west, font=\tiny] at (UL) {T\cellIndex};
				\pgfmathsetmacro{\maxDim}{int(\baseDim + 7)}
				\node[font=\large] at (C)  {\baseDim -\maxDim};
			\fi

	}};
\end{tikzpicture}

% Shared Memory layout
\begin{tikzpicture}[scale=1]
	\node[font=\large] at (8, 0) {\underline{Shared Memory Banks (4B each)}};
	\begin{scope}[shift={(0,-1.25)}]
		
	\foreach \col in {0,...,7} {
		\foreach \row in {0,..., 7}{

			% Base calculations
			\pgfmathsetmacro{\yPos}{-\row * \blockHeight}
			\pgfmathsetmacro{\xPos}{\col * \blockWidth}
			\coordinate (UL) at (\xPos, \yPos);
			\coordinate (BR) at  (\xPos + \blockWidth, \yPos - \blockHeight);
			% Center of rectangle
			\coordinate (C) at ($ (UL)!.5!(BR) $);

			% Compute swizzled column
			\pgfmathsetmacro{\swizzledCol}{int(\bitwiseXor{\col}{\row})}

			% Draw rect with appropriate column color
			\def\cellColor{\getcolor{\swizzledCol}}
			\fill[color=\cellColor, draw=black] (UL) rectangle (BR);

			% Label rows with Point number
			\ifnum\col=0
				\pgfmathsetmacro{\bankStart}{int(\row + 1)}
				\pgfmathsetmacro{\poffset}{-(\halfBlockWidth + 0.5)}
				\node[font=\large, xshift=\poffset cm] at (C) {P\bankStart};
			\fi

			\pgfmathsetmacro{\headerOffset}{(\halfBlockHeight + 0.5)}
			% Label columns with bank number
			\ifnum\row=0
				\pgfmathsetmacro{\bankStart}{int(4*(\col)+1)}
				\pgfmathsetmacro{\bankEnd}{int(\bankStart + 3)}
				\node[font=\large, yshift=\headerOffset cm] at (C) {\bankStart-\bankEnd};
			\fi

			% Add XOR values to right side of figure
			\ifnum\col=7
				\pgfmathsetmacro{\xorOffset}{(\halfBlockWidth + 0.1)}
				% Add header for XOR column...
				\ifnum\row=0
					\node[anchor=west, font=\large, xshift=\xorOffset cm, yshift=\headerOffset cm] at (C) {\underline{XOR}};
				\fi
				\pgfmathsetmacro{\binaryRow}{int(bin(\row))}
				\node[anchor=west, font=\large, xshift=\xorOffset cm] at (C) {0b\binaryRow};
			\fi


			\pgfmathsetmacro{\baseDim}{int(8 * \swizzledCol + 1)}
			\pgfmathsetmacro{\maxDim}{int(\baseDim + 7)}
			\node[font=\large] at (C)  {\baseDim -\maxDim};

}};
	\end{scope}
\end{tikzpicture}

\end{document}
